/**
 * Most Visible v1.0.1
 *
 * @author Andy Palmer <andy@andypalmer.me>
 * @license MIT
 */
!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports?module.exports=e(t):t.mostVisible=e(t)}(this,function(t){"use strict";function e(t,i){if(!(this instanceof e))return new e(t,i).getMostVisible();"string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=t,this.options=function(t){for(var e=1;e<arguments.length;e++)for(var i in arguments[e])arguments[e].hasOwnProperty(i)&&(t[i]=arguments[e][i]);return t}({},e.defaults,i)}e.defaults={percentage:!1},e.prototype={getMostVisible:function(){for(var t=null,e=document.documentElement.clientHeight,i=0,n=0;n<this.elements.length;n++){var o=this.getVisibleHeight(this.elements[n],e);o>i&&(i=o,t=this.elements[n])}return t},getVisibleHeight:function(t,e){var i=t.getBoundingClientRect(),n=i.bottom-i.top,o=i.top>=0&&i.top<e,s=i.bottom>0&&i.bottom<e,r=0;if(o&&s)r=n;else if(o)r=e-i.top;else if(s)r=i.bottom;else if(n>e&&i.top<0){var l=Math.abs(i.top);l<n&&(r=n-l)}return this.options.percentage?r/n*100:r}};(i=t.jQuery)&&(i.fn.mostVisible=function(t){var n=new e(this.get(),t).getMostVisible();return n?i(n):i()});var i;return e});