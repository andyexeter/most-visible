/**
 * Most Visible v1.2.1
 *
 * @author Andy Palmer <andy@andypalmer.me>
 * @license MIT
 */
!function(e,t){"function"==typeof define&&define.amd?define([],function(){return t(e)}):"object"==typeof module&&module.exports?module.exports=t(e):e.mostVisible=t(e)}("undefined"!=typeof self?self:this,function(e){"use strict";function t(e,n){if(!(this instanceof t))return new t(e,n).getMostVisible();"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=e,this.options=function(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])arguments[t].hasOwnProperty(n)&&(e[n]=arguments[t][n]);return e}({},t.defaults,n)}t.defaults={percentage:!1},t.prototype={getMostVisible:function(){for(var e=null,t=document.documentElement.clientHeight,n=0,i=0;i<this.elements.length;i++){var o=this.getVisibleHeight(this.elements[i],t);o>n&&(n=o,e=this.elements[i])}return e},getVisibleHeight:function(e,t){var n=e.getBoundingClientRect(),i=n.bottom-n.top,o=n.top>=0&&n.top<t,s=n.bottom>0&&n.bottom<t,r=0;if(o&&s)r=i;else if(o)r=t-n.top;else if(s)r=n.bottom;else if(i>t&&n.top<0){var u=Math.abs(n.top);u<i&&(r=i-u)}return this.options.percentage?r/i*100:r}},t.makeJQueryPlugin=function(e){e&&(e.fn.mostVisible=function(n){var i=new t(this.get(),n).getMostVisible();return i?e(i):e()})},t.makeJQueryPlugin(e.jQuery);return t});