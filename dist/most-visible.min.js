/**
 * Most Visible v1.5.0
 *
 * @author Andy Palmer <andy@andypalmer.me>
 * @license MIT
 */
!function(t,e){"function"==typeof define&&define.amd?define([],function(){return e(t)}):"object"==typeof module&&module.exports?module.exports=e(t):t.mostVisible=e(t)}("undefined"!=typeof self?self:this,function(t){"use strict";function n(t,e){if(!(this instanceof n))return new n(t,e).getMostVisible();"string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=t,this.options=function(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])t[n]=arguments[e][n];return t}({},n.defaults,e)}return n.defaults={percentage:!1,offset:0},n.prototype={getMostVisible:function(){var i=this,o=document.documentElement.clientHeight;return Array.prototype.reduce.call(this.elements,function(t,e){var n=i.getVisibleHeight(e,o);return n>t[0]?[n,e]:t},[0,null])[1]},getVisibleHeight:function(t,e){var n=t.getBoundingClientRect(),i=n.top-this.options.offset,o=n.bottom-this.options.offset,s=n.bottom-n.top,r=0<=i&&i<e,u=0<o&&o<e,t=0;return r&&u?t=s:r?t=e-n.top:u?t=o:e<s&&i<0&&((i=Math.abs(i))<s&&(t=s-i)),this.options.percentage?t/s*100:t}},(n.makeJQueryPlugin=function(t){t&&(t.fn.mostVisible=function(t){t=new n(this.get(),t);return this.filter(t.getMostVisible())})})(t.jQuery),n});