/*!
 * Most Visible v1.0.0
 * licence: MIT
 */
!function(a,b){"function"==typeof define&&define.amd?define([],b):"object"==typeof module&&module.exports?module.exports=b(a):a.mostVisible=b(a)}(this,function(a){"use strict";function b(a,d){return this instanceof b?(this.elements=a,this.options=c({},b.defaults,d),void(this.viewportHeight=document.documentElement.clientHeight)):new b(a,d).getMostVisible()}function c(a){for(var b=1;b<arguments.length;b++)for(var c in arguments[b])arguments[b].hasOwnProperty(c)&&(a[c]=arguments[b][c]);return a}return b.defaults={percentage:!1},b.prototype={getMostVisible:function(){for(var a=null,b=0,c=0;c<this.elements.length;c++){var d=this.getVisibleHeight(this.elements[c]);d>b&&(b=d,a=this.elements[c])}return a},getVisibleHeight:function(a){var b=a.getBoundingClientRect(),c=b.bottom-b.top,d={top:b.top>=0&&b.top<this.viewportHeight,bottom:b.bottom>0&&b.bottom<this.viewportHeight},e=0;if(d.top&&d.bottom)e=c;else if(d.top)e=this.viewportHeight-b.top;else if(d.bottom)e=b.bottom;else if(c>this.viewportHeight&&b.top<0){var f=Math.abs(b.top);f<c&&(e=c-f)}return this.options.percentage?e/c*100:e}},b.makeJQueryPlugin=function(c){c=c||a.jQuery,c&&(c.fn.mostVisible=function(a){var d=new b(this.get(),a),e=d.getMostVisible();return c(e?e:[])})},b.makeJQueryPlugin(),b});